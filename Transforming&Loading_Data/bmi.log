1                                                          The SAS System                            22:34 Wednesday, April 17, 2019

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

WARNING: Unable to copy SASUSER registry to WORK registry. Because of this, you will not see registry customizations during this 
         session.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to UNIVERSITY OF WISCONSIN MADISON -SFA- T&R, Site 70086601.
NOTE: This session is executing on the X64_SR12R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/OR 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_SR12R2 WIN 6.3.9600  Server

NOTE: SAS initialization used:
      real time           0.25 seconds
      cpu time            0.21 seconds
      
1          /* This is the statement for permanent library called 'sasdata'.
2             If a dataset is saved under permanet library, it will saved here.
3             Otherwise, if a dataset is run without specifying any library, it will be automatically saved under work library.
4             All data under work library will be delted when SAS is terminated*/
5          libname sasdata "E:\SAS\SAS_Library";
NOTE: Libref SASDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: E:\SAS\SAS_Library
6          
7          /* This statement is to connect SAS to the SQL Server */
8          libname db odbc noprompt=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
9          XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
10         XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
11         XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX schema=dbo;
NOTE: Libref DB was successfully assigned as follows: 
      Engine:        ODBC 
      Physical Name: 
12         
13         
14         data sasdata.giant(keep = chr bp rsid beta p_value trait);
15         	length chr$2 snp$20;
16         
17         	/* delimter is a single space for this raw data, not a tab*/
18         	infile "E:\John Li data\gwas-download-master\BMI\bmi_giant_ukbb_meta_analysis.txt"
19         	dlm=' ' TRUNCOVER DSD firstobs=2;
20         
21         	/* read data in input order. Note that $ refers to character variables; without $ refers to numeric. */
22         	input  chr$
2                                                          The SAS System                            22:34 Wednesday, April 17, 2019

23         	       bp
24         	       SNP$
25         	       Tested_Allele$
26         	       Other_Allele $
27         	       Freq_Tested_Allele
28         	       beta SE p_value N INFO
29         	       ;
30         
31         	rsid   = scan(SNP, 1, ':');
32         	trait  = 'giant';
33         run;

NOTE: Data file SASDATA.GIANT.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: The infile "E:\John Li data\gwas-download-master\BMI\bmi_giant_ukbb_meta_analysis.txt" is:
      Filename=E:\John Li data\gwas-download-master\BMI\bmi_giant_ukbb_meta_analysis.txt,
      RECFM=V,LRECL=32767,
      File Size (bytes)=185996093,
      Last Modified=25Dec2018:18:16:24,
      Create Time=01Mar2019:15:16:34

NOTE: 310109 records were read from the infile "E:\John Li data\gwas-download-master\BMI\bmi_giant_ukbb_meta_analysis.txt".
      The minimum record length was 57.
      The maximum record length was 78.
ERROR: User asked for termination
NOTE: The SAS System stopped processing this step because of errors.
NOTE: SAS set option OBS=0 and will continue to check statements. This might cause NOTE: No observations in data set.
WARNING: The data set SASDATA.GIANT may be incomplete.  When this step was stopped there were 310108 observations and 6 variables.
WARNING: Data set SASDATA.GIANT was not replaced because this step was stopped.
NOTE: DATA statement used (Total process time):
      real time           2.21 seconds
      cpu time            0.79 seconds
      
34         
35         


36         data sasdata.japanese(keep = chr bp beta p_value trait);
37         	infile "E:\John Li data\gwas-download-master\BMI\japanese_2017_BMI_BBJ_autosome.txt"
38         		delimiter='09'x TRUNCOVER DSD firstobs=2;
39         
40         	/* read data in input order */	
41         	input  SNP$
42         	       chr$	bp
43         	       REF$	ALT$	Frq	Rsq
44         	       beta	SE	p_value
45         	       ;
46         
47         	trait  = 'japanese';
48         	
49         run;

NOTE: Data file SASDATA.JAPANESE.DATA is in a format that is native to another host, or the file encoding does not match the 
      session encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: The data set SASDATA.JAPANESE has 0 observations and 5 variables.
WARNING: Data set SASDATA.JAPANESE was not replaced because this step was stopped.
3                                                          The SAS System                            22:34 Wednesday, April 17, 2019

NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

50         
51         
52         
53         /* Dataset that will be generated thorugh this data step will be named as 'ukbb_bmi'
54         and this will be saved under 'sasdata' library
55         All columns will be dropped except for 'chr' 'bp' 'beta' 'p_value' 'trait' */
56         data sasdata.ukbb_bmi(keep = chr bp beta p_value trait);
57         	/*Load raw data
58         	 delimiter='09'x is for tab-delimited file
59         	 Truncover foces the INPUT statement to stop reading when it gets to the end of a short line.
60         	 DSD considers an observation a missing value if there are two delimiters in a row
61         	 The first line will be read from the second line of the raw data since the first line will be column names */
62         	
63         	infile "E:\John Li data\gwas-download-master\BMI\BMI_UKBB.tsv" delimiter='09'x TRUNCOVER DSD firstobs=2;
64         
65         	/*Read data in input order
66         	  Followings will be each name of a column for raw data
67         	  Input name followed by dollar sign($) is to specify that type of the column is character
68         	  Column without $ is numeric/float */
69         	
70         	input  variant$
71         	       minor_allele$
72         	       minor_AF
73         	       low_confidence_variant$
74         	       n_complete_samples
75         	       AC ytx beta se tstat p_value;
76         
77         
78         	/*This is to seprate values individually within a column delimited by colon; e.g.) 5:12345:abc:a12
79         	  So the line below is to extract first value of delimited variable by :
80         	
81         	  variant is column name as specified above under input statement
82         	  1 refers to the first value of the corresponding string; this will be 5 for the example of 5:12345:abc:a12
83         	  I am not converting this to be numeric since character value could be included into this column like 'X' */
84         	
85         	chr    = scan(variant, 1, ':');
86         	
87         	/*This is for the second value of the string. The column 'variant' is read as character, but this is value is numeric.
88         	  Hence, we need to convert this column 'bp' into numeric using 'input'.
89         	  32. is a format for numeric*/
90         	
91         	bp     = input(scan(variant, 2, ':'),32.);
92         	
93         	/*We are adding a column 'trait' and all observations of this column are set to be 'ukbb'. */
94         	trait  = 'ukbb';
95         run;

NOTE: Data file SASDATA.UKBB_BMI.DATA is in a format that is native to another host, or the file encoding does not match the 
      session encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
NOTE: The data set SASDATA.UKBB_BMI has 0 observations and 5 variables.
WARNING: Data set SASDATA.UKBB_BMI was not replaced because this step was stopped.
NOTE: DATA statement used (Total process time):
4                                                          The SAS System                            22:34 Wednesday, April 17, 2019

      real time           0.07 seconds
      cpu time            0.00 seconds
      

96         
97         
98         
99         /* This procedure is to push sasdata to sql server.
100           Before pushing to the server, there shouldn't be table whose name is identical as specified below (db.~~) in the
100      ! server.
101           It may take some time. */
102        proc datasets library = db;
                                                             Directory

                                                        Libref         DB  
                                                        Engine         ODBC
                                                        Physical Name      
                                                        Schema/Owner   dbo 


                                                                                      DBMS
                                                                              Member  Member
                                         #  Name                              Type    Type

                                         1  BMI_giant_bmi                     DATA    TABLE 
                                         2  BMI_japanese_bmi                  DATA    TABLE 
                                         3  BMI_ukbb_bmi_Neale                DATA    TABLE 
                                         4  Cad_c4d                           DATA    TABLE 
                                         5  Cad_ukbb_Connor_alkesgroup        DATA    TABLE 
                                         6  Cad_ukbb_soft_Nelson_NG           DATA    TABLE 
                                         7  Lipid_Engage_Surakka_NG           DATA    TABLE 
                                         8  Lipid_Exome_Lu_East_Asian_NG      DATA    TABLE 
                                         9  Lipid_GLGC_Exome_Liu_NG           DATA    TABLE 
                                        10  Lipid_GLGC_Willer_NG              DATA    TABLE 
                                        11  Lipid_MVP_Klarin_NG               DATA    TABLE 
                                        12  Lipid_Spracklen_Hum_Mol_Genetics  DATA    TABLE 
                                        13  Lipid_UKBB_lipid_trait_Neale      DATA    TABLE 
                                        14  Lipid_UKBB_statin_usage_Neale     DATA    TABLE 
                                        15  Lipid_prins_SCientific_REPORT     DATA    TABLE 
                                        16  hg19                              DATA    TABLE 
                                        17  hg19_snp                          DATA    TABLE 
                                        18  hg38                              DATA    TABLE 
                                        19  hg38_snp                          DATA    TABLE 
103        	
103      !  append base = db.giant	  data = sasdata.giant;
NOTE: Data file SASDATA.GIANT.DATA is in a format that is native to another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
104        	
NOTE: The data set DB.giant has 0 observations and 0 variables.
ERROR: Error attempting to CREATE a DBMS table with no columns. This is not supported.
104      !  append base = db.ukbb_bmi data = sasdata.ukbb_bmi;
NOTE: Data file SASDATA.UKBB_BMI.DATA is in a format that is native to another host, or the file encoding does not match the 
      session encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
105        	
NOTE: The data set DB.ukbb_bmi has 0 observations and 0 variables.
ERROR: Error attempting to CREATE a DBMS table with no columns. This is not supported.
5                                                          The SAS System                            22:34 Wednesday, April 17, 2019

105      !  append base = db.japanese data = sasdata.japanese;
NOTE: Data file SASDATA.JAPANESE.DATA is in a format that is native to another host, or the file encoding does not match the 
      session encoding. Cross Environment Data Access will be used, which might require additional CPU resources and might reduce 
      performance.
106        run;

NOTE: The data set DB.japanese has 0 observations and 0 variables.
ERROR: Error attempting to CREATE a DBMS table with no columns. This is not supported.
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.72 seconds
      cpu time            0.09 seconds
      

ERROR: Errors printed on pages 2,4,5.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           4.00 seconds
      cpu time            1.32 seconds
      
